<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>replacing text in files | Scientific logbook</title>
<link href="../assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<link href="../assets/css/ipython.min.css" rel="stylesheet" type="text/css">
<link href="../assets/css/nikola_ipython.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="alternate" type="application/rss+xml" title="RSS" hreflang="en" href="../rss.xml">
<link rel="canonical" href="https://laurentperrinet.github.io/sciblog/posts/2010-04-26-replacing-text-in-files.html">
<link rel="icon" href="favicon.ico" sizes="16x16">
<!--[if lt IE 9]><script src="../assets/js/html5.js"></script><![endif]--><link href="../assets/css/ipython.min.css" rel="stylesheet" type="text/css">
<link href="../assets/css/nikola_ipython.css" rel="stylesheet" type="text/css">
<link rel="stylesheet" type="text/css" href="assets/css/typeplate.css">
<link rel="stylesheet" media="screen" href="http://openfontlibrary.org/face/railway-sans" type="text/css">
<meta name="author" content="Laurent Perrinet">
<link rel="prev" href="2010-04-25-bibdesk-%2B-citeulike.html" title="bibdesk + citeulike" type="text/html">
<link rel="next" href="2010-04-28-reStructuredText-rst-cheatsheet.html" title="reStructuredText rst cheatsheet" type="text/html">
<meta property="og:site_name" content="Scientific logbook">
<meta property="og:title" content="replacing text in files">
<meta property="og:url" content="https://laurentperrinet.github.io/sciblog/posts/2010-04-26-replacing-text-in-files.html">
<meta property="og:description" content="using sed

The UNIX command sed is useful to find and replace text in single or
multiple files. This page lists some common commands in using sed
to improve editing code.


To replace foo with foo_bar">
<meta property="og:type" content="article">
<meta property="article:published_time" content="2010-04-26T13:36:57+02:00">
<meta property="article:tag" content="sciblog">
</head>
<body>
<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-fixed-top" role="navigation"><div class="container">
    <div class="navbar-header">
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
          <span class="sr-only">Toggle navigation</span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="https://laurentperrinet.github.io/sciblog/">Scientific logbook</a>
    </div>
    <div class="collapse navbar-collapse">
        <ul class="nav navbar-nav">
<li>
<a href="../index.html">Home</a>
                </li>
<li>
<a href="../archive.html">Archives</a>
                </li>
<li>
<a href="../categories/index.html">Tags</a>
                </li>
<li>
<a href="../rss.xml">RSS</a>
                </li>
<li>
<a href="http://laurentperrinet.github.io">About my research</a>
                </li>
<li>
<a href="https://twitter.com/laurentperrinet">Twitter</a>
                </li>
<li>
<a href="https://github.com/laurentperrinet">Github</a>

        </li>
</ul>
<!-- Custom search --><form method="get" id="search" action="//duckduckgo.com/" class="navbar-form pull-left">
<input type="hidden" name="sites" value="https://laurentperrinet.github.io/sciblog/"><input type="hidden" name="k8" value="#444444"><input type="hidden" name="k9" value="#D51920"><input type="hidden" name="kt" value="h"><input type="text" name="q" maxlength="255" placeholder="Search…" class="span2" style="margin-top: 4px;"><input type="submit" value="DuckDuckGo Search" style="visibility: hidden;">
</form>
<!-- End of custom search -->


        <ul class="nav navbar-nav navbar-right">
<!--Add Links to social media sites --><!-- pass --><li>
    <a href="2010-04-26-replacing-text-in-files.rst" id="sourcelink">Source</a>
    </li>

        </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
</nav><!-- End of Menubar --><div class="container">
  <!--Body content-->
  <div class="row">
      
      
<article class="post-text h-entry hentry postpage" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title" itemprop="headline name"><a href="#" class="u-url">replacing text in files</a></h1>

        <div class="metadata">
            <p class="byline author vcard p-author h-card"><span class="byline-name fn p-name" itemprop="author">
                    Laurent Perrinet
            </span></p>
            <p class="dateline">
            <a href="#" rel="bookmark">
            <time class="published dt-published" datetime="2010-04-26T13:36:57+02:00" itemprop="datePublished" title="2010-04-26 13:36">2010-04-26 13:36</time></a>
            </p>
            
        <p class="sourceline"><a href="2010-04-26-replacing-text-in-files.rst" class="sourcelink">Source</a></p>

        </div>
        

    </header><div class="e-content entry-content" itemprop="articleBody text">
    <div>
<div class="section" id="using-sed">
<h2>using sed</h2>
<ul>
<li>
<p>The UNIX command sed is useful to find and replace text in single or
multiple files. This page lists some common commands in using <code class="docutils literal">sed</code>
to improve editing code.</p>
<!-- TEASER_END -->
</li>
<li>
<p>To replace foo with foo_bar in a single file:</p>
<pre class="literal-block">sed -i 's/foo/foo_bar/g' my_script.py</pre>
<ul class="simple">
<li><p>-i = edit the file "in-place": sed will directly modify the file
if it finds anything to replace</p></li>
<li><p>s = substitute the following text</p></li>
<li><p>foo = the text string to be substituted</p></li>
<li><p>foo_bar = the replacement string</p></li>
<li><p>g = global, match all occurrences in the line</p></li>
</ul>
</li>
<li>
<p>To replace foo with foo_bar in multiple files:</p>
<pre class="literal-block">sed -i 's/foo/foo_bar/g'  *.py</pre>
</li>
<li><p>Consult the manual pages of the operating system that you use:
<code class="docutils literal">man sed</code></p></li>
<li>
<p>in the particular case of changing a scaling parameter in a set of
experiment files:</p>
<pre class="literal-block">sed -i 's/size = 6/size = 7/g'  experiment*.py
sed -i 's/size = 7/size = 6/g'  experiment*.py</pre>
</li>
</ul>
</div>
<div class="section" id="using-vim">
<h2>using vim</h2>
<ul>
<li>
<p>on the current buffer, with confirmation</p>
<pre class="literal-block">:%s/old_text/new_text/cg</pre>
</li>
<li>
<p>on the current buffer</p>
<pre class="literal-block">:%s/old_text/new_text/g</pre>
</li>
<li>
<p>to get help</p>
<pre class="literal-block">:help substitute</pre>
</li>
<li>
<p>one could pass the required files to 'args' and apply whatever
command to all these files using the command 'argdo'. First I will
apply the substitute 's' command and then 'update' which will only
save the modified files.</p>
<pre class="literal-block">:args *.py
:argdo :%s/old_text/new_text/g | update</pre>
</li>
</ul>
</div>
<div class="section" id="using-python">
<h2>using python</h2>
<ul class="simple">
<li><p><a class="reference external" href="http://muharem.wordpress.com/2007/05/20/python-find-files-using-unix-shell-style-wildcards/">http://muharem.wordpress.com/2007/05/20/python-find-files-using-unix-shell-style-wildcards/</a></p></li>
</ul>
</div>
</div>
    </div>
    <aside class="postpromonav"><nav><ul itemprop="keywords" class="tags">
<li><a class="tag p-category" href="../categories/sciblog.html" rel="tag">sciblog</a></li>
        </ul>
<ul class="pager hidden-print">
<li class="previous">
                <a href="2010-04-25-bibdesk-%2B-citeulike.html" rel="prev" title="bibdesk + citeulike">Previous post</a>
            </li>
            <li class="next">
                <a href="2010-04-28-reStructuredText-rst-cheatsheet.html" rel="next" title="reStructuredText rst cheatsheet">Next post</a>
            </li>
        </ul></nav></aside></article>
</div>

  <div class="footerbox">
    Contents © 2022 <a href="mailto:laurent.perrinet@univ-amu.fr">Laurent Perrinet</a> -
Powered by <a href="http://getnikola.com">Nikola</a> with <a href="https://themes.getnikola.com/v7/maupassant/">Maupassant</a> theme <br><a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/2.5/ar/">
<img alt="Creative Commons License BY-NC-SA" style="border-width:0; margin-bottom:12px;" src="http://i.creativecommons.org/l/by-nc-sa/2.5/ar/88x31.png"></a>
    
  </div>
<!--End of body content-->
</div>

            <script src="../assets/js/all-nocdn.js"></script><!-- Add Jumbotron scroll js --><script type="text/javascript">//<![CDATA[
$(window).load(function(){
  $(window).scroll(function() {
    var scrolledY = $(window).scrollTop();
    $('.jumbotron').css('background-position', 'left ' + ((scrolledY)) + 'px');
  });
});//]]>
</script><!-- fancy dates --><script>
moment.locale("en");
fancydates(0, "YYYY-MM-DD HH:mm");
</script><!-- end fancy dates --><script>
baguetteBox.run('div#content', {
    ignoreClass: 'islink',
    captions: function(element) {
        return element.getElementsByTagName('img')[0].alt;
}});
</script><!-- Abstract hide/show
<script src"/assets/js/div_toggle.js"></script>
--><script type="text/javascript">
function toggle(showHideDiv, switchTextDiv) {
    var ele = document.getElementById(showHideDiv);
    var text = document.getElementById(switchTextDiv);
    if(ele.style.display == "none") {
        ele.style.display = "block";
        text.innerHTML = "[hide abstract]";
    }
    else {
            ele.style.display = "none";
            text.innerHTML = "[show abstract]";
    }
}
</script><script async src="https://www.googletagmanager.com/gtag/js?id=UA-140381649-1"></script><script>
  window.dataLayer = window.dataLayer || [];

  function gtag() {
      dataLayer.push(arguments);
  }

  function trackOutboundLink(url, target) {
    gtag('event', 'click', {
         'event_category': 'outbound',
         'event_label': url,
         'transport_type': 'beacon',
         'event_callback': function () {
           if (target !== '_blank') {
             document.location = url;
           }
         }
    });
    console.debug("Outbound link clicked: " + url);
  }

  function onClickCallback(event) {
    if ((event.target.tagName !== 'A') || (event.target.host === window.location.host)) {
      return;
    }
    trackOutboundLink(event.target, event.target.getAttribute('target'));
  }

  gtag('js', new Date());
  gtag('config', 'UA-140381649-1', {});


  document.addEventListener('click', onClickCallback, false);
</script>
</body>
</html>
