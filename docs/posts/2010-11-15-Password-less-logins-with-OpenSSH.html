<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Password-less logins with OpenSSH | Scientific logbook</title>
<link href="../assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<link href="../assets/css/ipython.min.css" rel="stylesheet" type="text/css">
<link href="../assets/css/nikola_ipython.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="alternate" type="application/rss+xml" title="RSS" hreflang="en" href="../rss.xml">
<link rel="canonical" href="https://laurentperrinet.github.io/sciblog/posts/2010-11-15-Password-less-logins-with-OpenSSH.html">
<link rel="icon" href="favicon.ico" sizes="16x16">
<!--[if lt IE 9]><script src="../assets/js/html5.js"></script><![endif]--><link href="../assets/css/ipython.min.css" rel="stylesheet" type="text/css">
<link href="../assets/css/nikola_ipython.css" rel="stylesheet" type="text/css">
<link rel="stylesheet" type="text/css" href="assets/css/typeplate.css">
<link rel="stylesheet" media="screen" href="http://openfontlibrary.org/face/railway-sans" type="text/css">
<meta name="author" content="Laurent Perrinet">
<link rel="prev" href="2010-11-09-Instinct-Paradise-journee-IMERA-du-9-nov-2010.html" title="Instinct Paradise :-journée IMERA du 9 nov 2010" type="text/html">
<link rel="next" href="2010-11-27-ignoring-a-folder-in-SVN.html" title="ignoring a folder in SVN" type="text/html">
<meta property="og:site_name" content="Scientific logbook">
<meta property="og:title" content="Password-less logins with OpenSSH">
<meta property="og:url" content="https://laurentperrinet.github.io/sciblog/posts/2010-11-15-Password-less-logins-with-OpenSSH.html">
<meta property="og:description" content="from
http://www.debian-administration.org/articles/152

Because OpenSSH allows you to run commands on remote systems, showing
you the results directly, as well as just logging in to systems it's
ideal">
<meta property="og:type" content="article">
<meta property="article:published_time" content="2010-11-15T13:36:57+01:00">
<meta property="article:tag" content="sciblog">
</head>
<body>
<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-fixed-top" role="navigation"><div class="container">
    <div class="navbar-header">
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
          <span class="sr-only">Toggle navigation</span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="https://laurentperrinet.github.io/sciblog/">Scientific logbook</a>
    </div>
    <div class="collapse navbar-collapse">
        <ul class="nav navbar-nav">
<li>
<a href="../index.html">Home</a>
                </li>
<li>
<a href="../archive.html">Archives</a>
                </li>
<li>
<a href="../categories/index.html">Tags</a>
                </li>
<li>
<a href="../rss.xml">RSS</a>
                </li>
<li>
<a href="http://laurentperrinet.github.io">About my research</a>
                </li>
<li>
<a href="https://twitter.com/laurentperrinet">Twitter</a>
                </li>
<li>
<a href="https://github.com/laurentperrinet">Github</a>

        </li>
</ul>
<!-- Custom search --><form method="get" id="search" action="//duckduckgo.com/" class="navbar-form pull-left">
<input type="hidden" name="sites" value="https://laurentperrinet.github.io/sciblog/"><input type="hidden" name="k8" value="#444444"><input type="hidden" name="k9" value="#D51920"><input type="hidden" name="kt" value="h"><input type="text" name="q" maxlength="255" placeholder="Search…" class="span2" style="margin-top: 4px;"><input type="submit" value="DuckDuckGo Search" style="visibility: hidden;">
</form>
<!-- End of custom search -->


        <ul class="nav navbar-nav navbar-right">
<!--Add Links to social media sites --><!-- pass --><li>
    <a href="2010-11-15-Password-less-logins-with-OpenSSH.rst" id="sourcelink">Source</a>
    </li>

        </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
</nav><!-- End of Menubar --><div class="container">
  <!--Body content-->
  <div class="row">
      
      
<article class="post-text h-entry hentry postpage" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title" itemprop="headline name"><a href="#" class="u-url">Password-less logins with OpenSSH</a></h1>

        <div class="metadata">
            <p class="byline author vcard p-author h-card"><span class="byline-name fn p-name" itemprop="author">
                    Laurent Perrinet
            </span></p>
            <p class="dateline">
            <a href="#" rel="bookmark">
            <time class="published dt-published" datetime="2010-11-15T13:36:57+01:00" itemprop="datePublished" title="2010-11-15 13:36">2010-11-15 13:36</time></a>
            </p>
            
        <p class="sourceline"><a href="2010-11-15-Password-less-logins-with-OpenSSH.rst" class="sourcelink">Source</a></p>

        </div>
        

    </header><div class="e-content entry-content" itemprop="articleBody text">
    <div>
<ul class="simple">
<li><p>from
<a class="reference external" href="http://www.debian-administration.org/articles/152">http://www.debian-administration.org/articles/152</a></p></li>
</ul>
<p>Because OpenSSH allows you to run commands on remote systems, showing
you the results directly, as well as just logging in to systems it's
ideal for automating common tasks with shellscripts and cronjobs. One
thing that you probably won't want is to do though is store the remote
system's password in the script. Instead you'll want to setup SSH so
that you can login securely without having to give a password.</p>
<!-- TEASER_END -->
<p>Thankfully this is very straightforward, with the use of public keys.</p>
<p>To enable the remote login you create a pair of keys, one of which you
simply append to a file upon the remote system. When this is done you'll
then be able to login without being prompted for a password - and this
also includes any cronjobs you have setup to run.</p>
<p>If you don't already have a keypair generated you'll first of all need
to create one.</p>
<p>To generate a new keypair you run the following command:</p>
<pre class="literal-block">skx@lappy:~$ ssh-keygen -t rsa</pre>
<p>This will prompt you for a location to save the keys, and a pass-phrase:</p>
<pre class="literal-block">Generating public/private rsa key pair.
Enter file in which to save the key (/home/skx/.ssh/id_rsa):
Enter passphrase (empty for no passphrase):
Enter same passphrase again:
Your identification has been saved in /home/skx/.ssh/id_rsa.
Your public key has been saved in /home/skx/.ssh/id_rsa.pub.</pre>
<p>If you accept the defaults you'll have a pair of files created, as shown
above, with no passphrase. This means that the key files can be used as
they are, without being "unlocked" with a password first. If you're
wishing to automate things this is what you want.</p>
<p>Now that you have a pair of keyfiles generated, or pre-existing, you
need to append the contents of the .pub file to the correct location on
the remote server.</p>
<p>Assuming that you wish to login to the machine called mystery from your
current host with the id_rsa and id_rsa.pub files you've just
generated you should run the following command:</p>
<pre class="literal-block">ssh-copy-id -i ~/.ssh/id_rsa.pub username@mystery</pre>
<p>This will prompt you for the login password for the host, then copy the
keyfile for you, creating the correct directory and fixing the
permissions as necessary.</p>
<p>The contents of the keyfile will be appended to the file
~/.ssh/authorized_keys2 for RSA keys, and ~/.ssh/authorised_keys for
the older DSA key types.</p>
<p>Once this has been done you should be able to login remotely, and run
commands, without being prompted for a password:</p>
<pre class="literal-block">skx@lappy:~$ ssh mystery uptime
 09:52:50 up 96 days, 13:45,  0 users,  load average: 0.00, 0.00, 0.00</pre>
</div>
    </div>
    <aside class="postpromonav"><nav><ul itemprop="keywords" class="tags">
<li><a class="tag p-category" href="../categories/sciblog.html" rel="tag">sciblog</a></li>
        </ul>
<ul class="pager hidden-print">
<li class="previous">
                <a href="2010-11-09-Instinct-Paradise-journee-IMERA-du-9-nov-2010.html" rel="prev" title="Instinct Paradise :-journée IMERA du 9 nov 2010">Previous post</a>
            </li>
            <li class="next">
                <a href="2010-11-27-ignoring-a-folder-in-SVN.html" rel="next" title="ignoring a folder in SVN">Next post</a>
            </li>
        </ul></nav></aside></article>
</div>

  <div class="footerbox">
    Contents © 2022 <a href="mailto:laurent.perrinet@univ-amu.fr">Laurent Perrinet</a> -
Powered by <a href="http://getnikola.com">Nikola</a>.<br><a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/2.5/ar/">
<img alt="Creative Commons License BY-NC-SA" style="border-width:0; margin-bottom:12px;" src="http://i.creativecommons.org/l/by-nc-sa/2.5/ar/88x31.png"></a>
    
  </div>
<!--End of body content-->
</div>

            <script src="../assets/js/all-nocdn.js"></script><!-- Add Jumbotron scroll js --><script type="text/javascript">//<![CDATA[
$(window).load(function(){
  $(window).scroll(function() {
    var scrolledY = $(window).scrollTop();
    $('.jumbotron').css('background-position', 'left ' + ((scrolledY)) + 'px');
  });
});//]]>
</script><!-- fancy dates --><script>
moment.locale("en");
fancydates(0, "YYYY-MM-DD HH:mm");
</script><!-- end fancy dates --><script>
baguetteBox.run('div#content', {
    ignoreClass: 'islink',
    captions: function(element) {
        return element.getElementsByTagName('img')[0].alt;
}});
</script><!-- Abstract hide/show
<script src"/assets/js/div_toggle.js"></script>
--><script type="text/javascript">
function toggle(showHideDiv, switchTextDiv) {
    var ele = document.getElementById(showHideDiv);
    var text = document.getElementById(switchTextDiv);
    if(ele.style.display == "none") {
        ele.style.display = "block";
        text.innerHTML = "[hide abstract]";
    }
    else {
            ele.style.display = "none";
            text.innerHTML = "[show abstract]";
    }
}
</script><script async src="https://www.googletagmanager.com/gtag/js?id=UA-140381649-1"></script><script>
  window.dataLayer = window.dataLayer || [];

  function gtag() {
      dataLayer.push(arguments);
  }

  function trackOutboundLink(url, target) {
    gtag('event', 'click', {
         'event_category': 'outbound',
         'event_label': url,
         'transport_type': 'beacon',
         'event_callback': function () {
           if (target !== '_blank') {
             document.location = url;
           }
         }
    });
    console.debug("Outbound link clicked: " + url);
  }

  function onClickCallback(event) {
    if ((event.target.tagName !== 'A') || (event.target.host === window.location.host)) {
      return;
    }
    trackOutboundLink(event.target, event.target.getAttribute('target'));
  }

  gtag('js', new Date());
  gtag('config', 'UA-140381649-1', {});


  document.addEventListener('click', onClickCallback, false);
</script>
</body>
</html>
