<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>A simpler e-mail client: Diving into mutt | Scientific logbook</title>
<link href="../assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<link href="../assets/css/ipython.min.css" rel="stylesheet" type="text/css">
<link href="../assets/css/nikola_ipython.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="alternate" type="application/rss+xml" title="RSS" hreflang="en" href="../rss.xml">
<link rel="canonical" href="https://laurentperrinet.github.io/sciblog/posts/2015-05-28-a-simpler-e-mail-client-diving-into-mutt.html">
<link rel="icon" href="favicon.ico" sizes="16x16">
<!--[if lt IE 9]><script src="../assets/js/html5.js"></script><![endif]--><link href="../assets/css/ipython.min.css" rel="stylesheet" type="text/css">
<link href="../assets/css/nikola_ipython.css" rel="stylesheet" type="text/css">
<link rel="stylesheet" type="text/css" href="assets/css/typeplate.css">
<link rel="stylesheet" media="screen" href="http://openfontlibrary.org/face/railway-sans" type="text/css">
<meta name="author" content="Laurent Perrinet">
<link rel="prev" href="2015-05-22-a-hitchhiker-guide-to-matching-pursuit.html" title="A hitchhiker guide to Matching Pursuit" type="text/html">
<link rel="next" href="2015-06-12-homebrew-cask-updating-mactex.html" title="homebrew cask : updating mactex" type="text/html">
<meta property="og:site_name" content="Scientific logbook">
<meta property="og:title" content="A simpler e-mail client: Diving into mutt">
<meta property="og:url" content="https://laurentperrinet.github.io/sciblog/posts/2015-05-28-a-simpler-e-mail-client-diving-into-mutt.html">
<meta property="og:description" content="My installation notes for mutt_+Homebrew_+gmail, based on this post by steve losh and this other post


offlineimap
brew search offlineimap
brew info offlineimap
brew home offlineimap
brew install off">
<meta property="og:type" content="article">
<meta property="article:published_time" content="2015-05-29T10:55:38+02:00">
<meta property="article:tag" content="open-science">
<meta property="article:tag" content="vim">
</head>
<body>
<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-fixed-top" role="navigation"><div class="container">
    <div class="navbar-header">
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
          <span class="sr-only">Toggle navigation</span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="https://laurentperrinet.github.io/sciblog/">Scientific logbook</a>
    </div>
    <div class="collapse navbar-collapse">
        <ul class="nav navbar-nav">
<li>
<a href="../index.html">Home</a>
                </li>
<li>
<a href="../archive.html">Archives</a>
                </li>
<li>
<a href="../categories/index.html">Tags</a>
                </li>
<li>
<a href="../rss.xml">RSS</a>
                </li>
<li>
<a href="http://laurentperrinet.github.io">About my research</a>
                </li>
<li>
<a href="https://twitter.com/laurentperrinet">Twitter</a>
                </li>
<li>
<a href="https://github.com/laurentperrinet">Github</a>

        </li>
</ul>
<!-- Custom search --><form method="get" id="search" action="//duckduckgo.com/" class="navbar-form pull-left">
<input type="hidden" name="sites" value="https://laurentperrinet.github.io/sciblog/"><input type="hidden" name="k8" value="#444444"><input type="hidden" name="k9" value="#D51920"><input type="hidden" name="kt" value="h"><input type="text" name="q" maxlength="255" placeholder="Search…" class="span2" style="margin-top: 4px;"><input type="submit" value="DuckDuckGo Search" style="visibility: hidden;">
</form>
<!-- End of custom search -->


        <ul class="nav navbar-nav navbar-right">
<!--Add Links to social media sites --><!-- pass --><li>
    <a href="2015-05-28-a-simpler-e-mail-client-diving-into-mutt.txt" id="sourcelink">Source</a>
    </li>

        </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
</nav><!-- End of Menubar --><div class="container">
  <!--Body content-->
  <div class="row">
      
      
<article class="post-text h-entry hentry postpage" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title" itemprop="headline name"><a href="#" class="u-url">A simpler e-mail client: Diving into mutt</a></h1>

        <div class="metadata">
            <p class="byline author vcard p-author h-card"><span class="byline-name fn p-name" itemprop="author">
                    Laurent Perrinet
            </span></p>
            <p class="dateline">
            <a href="#" rel="bookmark">
            <time class="published dt-published" datetime="2015-05-29T10:55:38+02:00" itemprop="datePublished" title="2015-05-29 10:55">2015-05-29 10:55</time></a>
            </p>
            
        <p class="sourceline"><a href="2015-05-28-a-simpler-e-mail-client-diving-into-mutt.txt" class="sourcelink">Source</a></p>

        </div>
        

    </header><div class="e-content entry-content" itemprop="articleBody text">
    <div>
<p>My installation notes for mutt_+Homebrew_+gmail, based on this post by <a class="reference external" href="http://stevelosh.com/blog/2012/10/the-homely-mutt/">steve losh</a> and this <a class="reference external" href="http://blog.developwithpassion.com/2013/05/02/getting-up-and-running-with-a-sane-mutt-setup/">other post</a></p>
<!-- TEASER_END -->
<div class="section" id="offlineimap">
<h2>offlineimap</h2>
<pre class="literal-block">brew search offlineimap
brew info offlineimap
brew home offlineimap
brew install offlineimap
mvim .offlineimaprc
brew install sqlite
cat  ~/.mutt/certificates
ls -l ~/pool/docs/Mail
offlineimap
ls /usr/local/Cellar/offline-imap/6.5.6/
brew info offlineimap
vim /usr/local/Cellar/offline-imap/6.5.6/bin/offlineimap
/usr/bin/env python
# dooh! works only in python2
pyenv global 2.7.9
python
pyenv rehash
python
offlineimap --info
offlineimap --dry-run
offlineimap</pre>
</div>
<div class="section" id="mutt">
<h2>mutt</h2>
<pre class="literal-block">mv ~/Documents/Mail ~/pool/docs/
mutt
brew info mutt
brew install mutt --sidebar-patch
brew remove mutt
brew tap mrtazz/misc
brew install mrtazz/misc/mutt --with-sidebar-patch
man mutt
o /usr/local/Cellar/mutt/1.5.23_2/share/doc/mutt/
o /usr/local/Cellar/mutt/1.5.23_2/share/doc/mutt/manual.html
vim .muttrc
git mv .muttrc .mutt/muttrc
vim .mutt/muttrc
ls -aR .mutt
vim .mutt/muttrc
grep pass .mutt/muttrc
vim .mutt/mailcap
vim .mutt/view_attachment.sh
chmod +x .mutt/view_attachment.sh
rmdir .mutt/certificates
mkdir .mutt/temp
mvim .mutt/sig
man mutt
mutt</pre>
</div>
<div class="section" id="sending-e-mail">
<h2>sending e-mail</h2>
<pre class="literal-block">brew install msmtp
msmtp --help
vim .mutt/Equifax_Secure_CA.cert
vim .msmtprc
msmtp -a laurent.perrinet --serverinfo</pre>
</div>
<div class="section" id="contacts">
<h2>contacts</h2>
<pre class="literal-block">brew install contacts</pre>
</div>
<div class="section" id="all-in-one-script">
<h2>all in one script</h2>
<pre class="literal-block"># brew install mutt
# a nice command-line utility to read and send e-mails
brew install offlineimap
brew install sqlite
#brew tap mrtazz/misc
#brew uninstall mrtazz/misc/mutt --with-sidebar-patch
#brew install mutt
brew tap kevwil/patches
brew install kevwil/patches/mutt --with-sidebar-patch --with-trash-patch

brew install msmtp
brew install contacts
brew install notmuch --without-python@2 --with-python3
brew install urlview

mkdir -p ~/.mutt/cache/bodies
mkdir -p ~/.mutt/cache/headers
# wget -O ~/.mutt/certificates http://www.geotrust.com/resources/extended-validation-ssl/certs/Equifax%20Secure%20Certificate%20Authority.crt
mkdir -p ~/mail
mkdir -p ~/mail/home
mkdir -p ~/mail/work
mkdir -p ~/mail/local</pre>
</div>
<div class="section" id="key-bindings">
<h2>key bindings</h2>
<p>We’re going to use j and k to move around, so we may as well support Vim keys like gg and G too. We’ll use R for reply all, since that comes in handy fairly often. Ctrl-R will mark all messages in the current folder as read.</p>
<p>The tab key is going to “commit” changes we’ve made in Mutt (like deleting an email) to our local Maildir folder. Once those changes are in the Maildir folder offlineimap will sync them to the server the next time it runs. This is nice because it lets us recover if we accidentally do something stupid like deleting the wrong email.</p>
<p>The space key will toggle collapsing of threads, which can be convenient when viewing mailing lists (or any conversations with many messages).</p>
<p>The o and O keys will run offlineimap to sync mail. Like I said before, I prefer having to press a button to grab mail instead of it constantly grabbing and nagging me. o will sync only the inbox (fast), and O will sync everything (much slower).</p>
<p>Finally we rebind C and M to perform the same operations they usually do, but in a more user-friendly manner.
We’re binding the up and down arrow keys to switch between folders, and right to “enter” a folder. Give it a try.</p>
<p>We don’t need the arrows because we can navigate with j and k, but if you prefer to rebind them to something else feel free.
Press return in the index to open the selected email. This view is called the pager.</p>
<p>When you’re in the pager view reading an email with attachments, you can press v to view a list of them
Attachment List</p>
<p>Scroll through the list with j and k and press return to view one. But first we need to tell Mutt how to view things that aren’t text!</p>
<p>Other interesting key bindings:</p>
<ul class="simple">
<li><p>h to toggle hide / view headers in pager view.</p></li>
</ul>
</div>
</div>
    </div>
    <aside class="postpromonav"><nav><ul itemprop="keywords" class="tags">
<li><a class="tag p-category" href="../categories/open-science.html" rel="tag">open-science</a></li>
            <li><a class="tag p-category" href="../categories/vim.html" rel="tag">vim</a></li>
        </ul>
<ul class="pager hidden-print">
<li class="previous">
                <a href="2015-05-22-a-hitchhiker-guide-to-matching-pursuit.html" rel="prev" title="A hitchhiker guide to Matching Pursuit">Previous post</a>
            </li>
            <li class="next">
                <a href="2015-06-12-homebrew-cask-updating-mactex.html" rel="next" title="homebrew cask : updating mactex">Next post</a>
            </li>
        </ul></nav></aside></article>
</div>

  <div class="footerbox">
    Contents © 2022 <a href="mailto:laurent.perrinet@univ-amu.fr">Laurent Perrinet</a> -
Powered by <a href="http://getnikola.com">Nikola</a> with <a href="https://themes.getnikola.com/v7/maupassant/">Maupassant</a> theme <br><a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/2.5/ar/">
<img alt="Creative Commons License BY-NC-SA" style="border-width:0; margin-bottom:12px;" src="http://i.creativecommons.org/l/by-nc-sa/2.5/ar/88x31.png"></a>
    
  </div>
<!--End of body content-->
</div>

            <script src="../assets/js/all-nocdn.js"></script><!-- Add Jumbotron scroll js --><script type="text/javascript">//<![CDATA[
$(window).load(function(){
  $(window).scroll(function() {
    var scrolledY = $(window).scrollTop();
    $('.jumbotron').css('background-position', 'left ' + ((scrolledY)) + 'px');
  });
});//]]>
</script><!-- fancy dates --><script>
moment.locale("en");
fancydates(0, "YYYY-MM-DD HH:mm");
</script><!-- end fancy dates --><script>
baguetteBox.run('div#content', {
    ignoreClass: 'islink',
    captions: function(element) {
        return element.getElementsByTagName('img')[0].alt;
}});
</script><!-- Abstract hide/show
<script src"/assets/js/div_toggle.js"></script>
--><script type="text/javascript">
function toggle(showHideDiv, switchTextDiv) {
    var ele = document.getElementById(showHideDiv);
    var text = document.getElementById(switchTextDiv);
    if(ele.style.display == "none") {
        ele.style.display = "block";
        text.innerHTML = "[hide abstract]";
    }
    else {
            ele.style.display = "none";
            text.innerHTML = "[show abstract]";
    }
}
</script><script async src="https://www.googletagmanager.com/gtag/js?id=UA-140381649-1"></script><script>
  window.dataLayer = window.dataLayer || [];

  function gtag() {
      dataLayer.push(arguments);
  }

  function trackOutboundLink(url, target) {
    gtag('event', 'click', {
         'event_category': 'outbound',
         'event_label': url,
         'transport_type': 'beacon',
         'event_callback': function () {
           if (target !== '_blank') {
             document.location = url;
           }
         }
    });
    console.debug("Outbound link clicked: " + url);
  }

  function onClickCallback(event) {
    if ((event.target.tagName !== 'A') || (event.target.host === window.location.host)) {
      return;
    }
    trackOutboundLink(event.target, event.target.getAttribute('target'));
  }

  gtag('js', new Date());
  gtag('config', 'UA-140381649-1', {});


  document.addEventListener('click', onClickCallback, false);
</script>
</body>
</html>
